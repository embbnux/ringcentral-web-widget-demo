<html>
    <header>
      <meta http-equiv="cache-control" content="max-age=0" />
      <meta http-equiv="cache-control" content="no-cache" />
      <meta http-equiv="expires" content="0" />
      <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
      <meta http-equiv="pragma" content="no-cache" />
      <!-- Force Edge to stop detecting phone numbers -->
      <meta name="format-detection" content="telephone=no">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta charset="UTF-8">
      <title>RingCentral Web Widget demo</title>
    </header>
    <body>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/3.2.2/es6-promise.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.1/fetch.js"></script>
    <script type="text/javascript" src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.19.0.js"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/ringcentral/ringcentral-js/master/build/ringcentral.js"></script>
    <script>
      if (window.opener) {
        window.opener.postMessage({
          callbackUri: window.location.href,
        }, '*');
      }
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({
          refreshCallbackUri: callbackUri,
        }, '*');
      }
      var rcSDK = new RingCentral.SDK({
        server: 'your app server',
        appKey: 'your app key',
      });
      var platform = rcSDK.platform();
      var query = window.location.hash;
      var loginOptions = platform.parseLoginRedirect(query);
      if (loginOptions.access_token) {
        platform.login(loginOptions);
      }
      window.close();
    </script>
    </body>
</html>